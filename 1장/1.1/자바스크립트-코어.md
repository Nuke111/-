## 자바스크립트 코어

> 주석

- // 뒤에 오는 내용은 모두 주석으로 간주한다.
- 주석은 해당 자바스크립트 코드를 설명하고 있으니 잘 읽어야 한다.

> 변수

- 변수는 한 값을 위한 상징적인 이름이다.

- var 키워드로 선언할 수 있다.

  ```javascript
  var x; //  x란 이름의 변수를 선언한다
  ```

> 값

- 값은 = 기호를 통해 변수에 할당할 수 있다.

  ```javascript
  x = 0; // 이제 변수 x의 값은 0이다.
  x	   // => 변수 x는 변수가 가진 값 0으로 평가된다.
  ```

> 타입

- 자바스크립트는 다양한 타입을 지원한다.

  ```javascript
  x = 1;              //  숫자
  x = 0.01;           //  정수나 실수
  x = "안녕하세요";    //  큰 따옴표로 둘러쌓인 문자열 
  x = '안녕하세요';    //  작은 따옴표로 둘러쌓인 문자열
  x = true;           //  참을 뜻하는 논리 값
  x = false;          //  거짓을 뜻하는 논리 값
  x = null;           //  ★ 값이 없음을 뜻하는 특별한 값 ★
  x = undefined;      //  null과 유사함. (???)
  ```


> 객체와 배열

- 객체는 이름-값 (name-value pair)의 모음이다.

- 이름은 반드시 문자열이어야 한다.

- 값 자리에는 아무 자바스크립트 값이 올 수 있다.

  ```javascript
  var book = {                //  객체는 중괄호로 열어서 시작한다.
      topic : "JavaScript",   //  topic 프로퍼티의 값은 "JavaScript"다. 
      fat : true              //  fat 프로퍼티의 값은 true다.
  }                           //  닫는 중괄호로 객체 선언의 끝낸다.
  ```

- 객체의 프로퍼티는 .과 []를 사용해 접근할 수 있다.

  ```javascript
  book.topic;             // => "JavaScript"
  book["fat"];            // => true
  book[fat];            // => 이렇게는 사용할 수 없다. ReferenceError
  BOOK["fat"];          // => 대소분자를 구분한다.
  book.author = "NUKE";   // 객체에 값을 할당하여 새 프로퍼티를 생성한다.
  book.contents = {};     // {}는 프로퍼티가 없는 빈 객체다.
  ```

- 배열과 객체는 각각 원소와 프로퍼티의 값으로 배열과 객체를 가질 수 있다.

  ```javascript
  var points = [      //  배열은 대괄호로 이뤄져있다.
      {x:0, y:0},     //  각 원소는 객체이다.
      {x:1, y:1}  
  ];  
  var data = {                //  객체에 두 프로퍼티가 있다.
      trial1:[[1,2],[3,4]],   //  각 프로퍼티의 값은 배열이고,
      trial2:[[2,3],[4,5]]    // 배열의 각 원소는 배열이다.
  }
  ```

> 연산자

- 연산자는 값(피연산자)들을 이용해 새 값을 산출한다.

- 산술 연산자

  ```javascript
  3 + 2                       // => 5:    덧셈
  3 - 2                       // => 1:    뺄셈
  3 * 2                       // => 6:    곱셈
  3 / 2                       // => 1.5:  나눗셈
  points[1].x - points[0].x   // => 1:    피연산자 뺄셈
  "3" + "2"                   // => "32"  + 연산자로 두 문자열을 이어 붙임
  ```

- 산술 연산자의 단축 표현식

  ```javascript
  var count = 0;  //  값을 정의한다.
  count++;        //  값을 1 증가시킨다.
  count--;        //  값을 1 감소시킨다.
  count += 2;     //  값을 2 증가시킨다. count = count + 2와 같다.
  count *= 3;     //  값을 3 곱한다. count = count * 3과 같다.
  count           //  => 6 : 변수 이름 또한 표현식이다.
  ```

- 관계 연산자는 두 값이 같거나 다른지, 작거나 큰지를 검사한다.

- 이들 표현식은 ``true``나 ``false``로 산출된다.

  ```javascript
  var x = 2, y = 3;   // = 기호는 비교 검사가 아닌 할당에 주의
  x==y                // => false : x와 y의 값이 같은지 비교
  x!=y                // => true : x와 y의 값이 다른지 비교
  x<y                 // => true : x가 y보다 작은지 비교
  x<=y                // => true : x가 y보다 작거나 같은지 비교
  x>y                 // => false : x가 y보다 큰지 비교
  x>=y                // => false: x가 y보다 크거나 같은지 비교
  "two" == "three"    // => false : 두 문자열은 서로 다르다.
  "two" > "three"     // => true : two가 three보다 알파벳순으로 봤을 때 앞선지 비교 ("tw"는 "th"보다 크다.)
  false == (x>y)      // => true: false는 false와 값이 같다.
  ```

- 논리 연산자는 논리 값들을 결합하거나 반전시킬 수 있다.

  ```javascript
  //&&(AND), ||(OR), !(NOT)
  (x==2) && (y==3)    // => true: 두 비교식이 참이다.
  (x>3) || (y<3)      // => false : 두 비교식이 모두 참이 아니다.
  !(x==y)             // => true : 논리 값을 반전시킨다.
  ```


> 함수

- 함수는 이름과 매개변수를 가진 자바스크립트 코드 블록이다.

- 한 번 정의되면 여러번 호출할 수 있다.

- 함수의 예시

  ```javascript
  function plus1(x) {	// 함수 이름은 plus1이고 매개변수로 x를 갖는다.
      return x+1;		// 매개변수로 전달받은 값에 1을 더해서 반환한다.
  }					// 함수는 중괄호 {}로 둘러싸여 있다.
  plus1(y)			// => 4: y가 3이면 plus1 함수는 3+1을 반환한다.
  
  var square = function(x) {	// 여기서 함수는 값이되고, 변수 square에 할당된다.
      return x*x;				// 반환할 함수 값을 계산한다.
  };							// 세미콜론을 써서 할당문의 끝을 나타낸다.
  
  square(plus1(y))			// => 16: 하나의 표현식에서 함수 호출을 두 번 사용함.
  ```

- 함수도 객체의 프로퍼티로 사용될 수 있다.

  ```javascript
  // 함수도 객체의 프로퍼티로 사용될 수 있다.
  // 이 때 프로퍼티로 할당된 함수를 '메서드'라고 한다.
  // 모든 자바스크립트 객체는 메서드를 갖는다.
  var a = [];     // 빈 배열을 만든다.
  a.push(1,2,3);  // push() 메서드는 배열에 원소를 하나이상 추가한다.
  a.reverse();    // reverse() 메서드는 배열이 가진 원소의 순서를 역순으로 바꾼다.
  ```

- 기존에 정의된 메서드 외에도 임의로 메서드를 정의할 수도 있다.

  ```javascript
  // "this" 키워드는 메서드가 정의된 객체 자신을 가리킨다.
  // 아래 points.dist 메서드 몸체에서 사용한 this는 point를 가리킨다.
  points.dist = function() {      //  두 점의 거리를 계산하는 메서드를 정의한다.
      var p1 = this[0];           //  배열의 첫 번째 원소를 가리킨다.
      var p2 = this[1];           //  배열의 두 번째 원소를 가리킨다.
      var a = p2.x-p1.x;          //  두 점의 X 좌표 차이 값을 구한다.
      var b = p2.y-p1.y;          //  두 점의 Y 좌표 차이 값을 구한다.
      return Math.sqrt(a*a+b*b);  //  피타고라스 정리를 이용한다.
  }
  console.log(points.dist());     // => 1.414235623730951: 하나의 표현식에서 함수 호출을 두 번 했다.
  ```

- 구조를 제어하는 함수

  ```javascript
  // 다른 언어에서 흔히 볼 수 있는 함수
  function abs(x) {       // 절댓값을 계산하는 함수
      if(x>=0) {          // x가 0보다 크거나 같다면
          return x;       // if 절 안의 코드를 실행한다.
      } else {            // else 절은 if 절에서 사용한 표현식이 false일 경우 실행한다.
          return -x;      // else 절은 필수는 아니며
      }                   // 각 if/else 절에 포함한 문장이 하나일 경우 중괄호를 생략할 수 있다.
  }
  
  function factorial(n) { // 팩토리얼을 계산하는 함수
      var product = 1;    // product 값은 1부터 시작한다.
      while(n>1) {        // 괄호 안에 표현식이 참이면 while문의 중괄호 {} 안에 있는 문장을 반복 실행한다. 
          product *= n;   // product = product * n;의 단축표현이다.
          n--;            // n = n - 1;의 단축표현이다.
      }                   // 반복문 while의 끝
      return product;     // product를 반환한다.
  }           
  factorial(4)            // => 24: 1*4*3*2
  ```

> 다른 객체지향 언어와의 차이점

- 객체 지향 언어이지만, 기존의 객체 지향 언어와는 형태가 전혀 다르다.

  ```javascript
  // 객체를 초기화하기 위해 생성자 함수를 정의한다.
  function Point(x, y) {      // 일반적으로 생성자 이름의 첫 글자는 대문자로 시작한다.
      this.x = x;             // this 키워드는 새로 생성된 객체를 가리킨다.
      this.y = y;             // 생성자로 전달된 인자는 객체의 프로퍼티로 저장한다.
  }                           // 값을 반한하지 않아도 된다.
  
  // new 키워드로 객체를 생성할 때 앞에서 정의한 생성자 함수를 사용한다.
  var p = new Point(1, 1);    // 2차원 좌표 (1,1)
  // 생성자 함수 Point의 prototype 객체에 함수를 정의함으로써
  // Point 객체에 메서드를 정의한다.
  Point.prototype.r = function() {
      return Math.sqrt(       // x^2 + y^2 값의 제곱근을 반환한다.
          this.x * this.x +   // this는 이 메서드가 호출된 Point 객체를 가리킨다.
          this.y * this.y
      );
  }
  // Point 객체 p(뿐만 아니라 모든 Point 객체)는 메서드 r()을 상속받는다.
  console.log(p.r())          // => 1.414...
  ```